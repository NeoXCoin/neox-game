<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NeoX Catch â€” Opening 2</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background-color: #000;
    color: #fff;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang TC", "Noto Sans", Arial, sans-serif;
    overflow: hidden;
  }

  #wrap {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #000 url('TreasureL2.png') center/contain no-repeat;
  }

  /* å½±ç‰‡é¡¯ç¤ºè¨­å®š */
  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background-color: #000;
    border-radius: 0;
    transition: opacity .4s ease;
    opacity: 0;
  }
  video.loaded { opacity: 1; }

  /* åº•éƒ¨æ§åˆ¶å€ */
  .overlay {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    text-align: center;
    background: linear-gradient(transparent 60%, rgba(0,0,0,0.7));
    padding-bottom: 40px;
  }

  h1 {
    margin-bottom: 8px;
    font-size: clamp(22px, 6vw, 34px);
    font-weight: 900;
    letter-spacing: 0.02em;
    text-shadow: 0 0 22px rgba(43,124,255,0.45);
  }

  p {
    margin: 0 0 20px;
    font-size: 15px;
    color: #cfd5ff;
  }

  /* === æŒ‰éˆ•æ’ç‰ˆ === */
  .btnrow {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
  }

  /* === æŒ‰éˆ•çµ±ä¸€æ¨£å¼ === */
  .btnrow button {
    appearance: none;
    border: none;
    border-radius: 14px;
    padding: 12px 18px;
    font-weight: 800;
    letter-spacing: .02em;
    color: #fff;
    background: linear-gradient(180deg, #2c3363 0%, #1a1f40 100%);
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.4),
                inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    cursor: pointer;
    transition: transform .15s ease, box-shadow .25s ease, filter .25s ease;
  }

  .btnrow button:hover {
    transform: translateY(-2px);
    filter: brightness(1.15);
    box-shadow: 0 14px 34px rgba(43,124,255,.35),
                inset 0 0 0 1px rgba(255,255,255,.12);
  }

  .btnrow button:active {
    transform: translateY(0);
    filter: brightness(.95);
    box-shadow: 0 8px 18px rgba(0,0,0,.35);
  }

  /* ä¸»æŒ‰éˆ• */
  .primary {
    background: linear-gradient(180deg, #4c8dff 0%, #2b7cff 70%, #236cf0 100%);
    box-shadow: 0 0 25px rgba(43,124,255,.25),
                0 10px 28px rgba(0,0,0,.4),
                inset 0 0 0 1px rgba(255,255,255,.15);
  }

  .primary:hover {
    filter: brightness(1.2);
    box-shadow: 0 0 30px rgba(43,124,255,.4),
                0 12px 32px rgba(0,0,0,.45);
  }

  /* éŸ¿æ‡‰å¼ */
  @media (max-width:500px){
    h1{ font-size: 22px; }
    .btnrow button { padding: 11px 14px; font-size: 14px; }
  }
</style>
</head>
<body>
<div id="wrap">
  <video
    id="introVideo"
    src="https://neoxcoin.github.io/neox-game/CatchCoinL2.mp4"
    poster="TreasureL2.png"
    preload="auto"
    muted
    playsinline
    webkit-playsinline
  ></video>

  <div class="overlay">
    <h1>Treasure Journey</h1>
    <p>Watch the short opening, or skip and start the level.</p>
    <div class="btnrow">
      <button id="btnSound">ğŸ”ˆ Sound on</button>
      <button id="btnStart" class="primary">â–¶ Start Play</button>
      <button id="btnSkip">â­ Skip</button>
    </div>
  </div>
</div>

<script>
const video = document.getElementById('introVideo');
const btnSound = document.getElementById('btnSound');
const btnStart = document.getElementById('btnStart');
const btnSkip = document.getElementById('btnSkip');

// é¡¯ç¤ºå½±ç‰‡ç¬¬ä¸€å¹€ï¼ˆé˜²é»‘å±ï¼‰
function showFirstFrame(){
  video.classList.add('loaded');
}
video.addEventListener('loadeddata', showFirstFrame);
video.addEventListener('loadedmetadata', showFirstFrame);
video.play().catch(()=>{});

// iPhone é˜²é»‘å±ï¼ˆé¦–æ¬¡è§¸ç¢°æ’­æ”¾ï¼‰
window.addEventListener("touchstart", () => {
  video.play().catch(()=>{});
}, { once:true });

// è²éŸ³æ§åˆ¶
let soundEnabled = false;
let audioCtx = null;
function ensureAudio() {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
}

btnSound.onclick = async () => {
  ensureAudio();
  soundEnabled = !soundEnabled;
  if (soundEnabled) {
    try {
      await audioCtx.resume();
      video.muted = false;
      btnSound.textContent = "ğŸ”Š Sound on";
    } catch (e) {}
  } else {
    video.muted = true;
    btnSound.textContent = "ğŸ”ˆ Sound off";
  }
};

// æ’­æ”¾å½±ç‰‡
btnStart.onclick = () => {
  video.play().catch(()=>{});
};

// Skipï¼å½±ç‰‡å®Œè‡ªå‹•å‰å¾€ä¸‹ä¸€é 
function goNext(){ window.location.href = "v2.html"; }
btnSkip.onclick = goNext;
video.addEventListener('ended', goNext);
</script>
</body>
</html>