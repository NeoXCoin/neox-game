<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NeoX Catch â€” Opening 2</title>
<style>
  :root{ --stage-max:700px; }

  html,body{
    margin:0;height:100%;background:#0a0b1f;color:#fff;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang TC","Noto Sans",Arial,sans-serif;
    overflow:hidden;
  }
  /* ç½®ä¸­ç‰ˆå¿ƒ */
  #wrap{
    height:100%;display:grid;place-items:center;padding:16px;
  }

  /* 1:1 æ­£æ–¹å½¢èˆå°ï¼ˆä¸æœƒéå¤§ä¹Ÿä¸æœƒè¶…å‡ºï¼‰ */
  .stage{
    width:min(92vmin,var(--stage-max));
    aspect-ratio:1/1;
    border-radius:16px;
    background:#000;
    box-shadow:0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
    overflow:hidden; position:relative;
  }
  .stage video{
    width:100%;height:100%;
    object-fit:contain;           /* ä¿æŒæ¯”ä¾‹ï¼Œä¸è£åˆ‡ */
    background:#000;
  }

  /* æ–‡å­—èˆ‡æŒ‰éˆ•ï¼ˆé è¨­ï¼šæ©«å‘/æ¡Œé¢è¦†è“‹åœ¨ä¸‹æ–¹ï¼‰ */
  .overlay{
    position:absolute; inset:auto 0 0 0;
    display:flex; flex-direction:column; align-items:center; text-align:center;
    background:linear-gradient(transparent 30%, rgba(0,0,0,.65));
    padding:14px;
  }
  .title{margin:6px 0 8px; font-weight:800; font-size:clamp(18px,4.8vw,28px);}
  .sub{margin:0 0 10px; color:#cfd6ff; font-size:14px}
  .row{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
  button{
    border:0;border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer;color:#fff;
    background:#1b2144; box-shadow:0 10px 28px rgba(0,0,0,.3), inset 0 0 0 1px rgba(255,255,255,.08);
  }
  .primary{ background:#2b7cff; }

  /* ğŸ“± ç›´å‘æ‰‹æ©Ÿï¼šæŠŠ overlay æ”¾åˆ°å½±ç‰‡ã€Œå¤–é¢ä¸‹é¢ã€ */
  @media (orientation:portrait){
    #wrap{ grid-auto-rows:max-content; gap:10px; }
    .overlay{
      position:static; background:transparent; padding:0;
      width:min(92vmin,var(--stage-max));   /* è·Ÿèˆå°åŒå¯¬ */
    }
  }

  /* æ©«å‘å¹³æ¿/æ¡Œé¢ï¼šèˆå°ä¸è¶…éç•«é¢é«˜åº¦ */
  @media (orientation:landscape){
    .stage{ width:min(80vmin,var(--stage-max)); }
  }
</style>
</head>
<body>
  <div id="wrap">
    <!-- æ­£æ–¹å½¢èˆå° -->
    <div class="stage">
      <video id="introVideo"
        src="https://neoxcoin.github.io/neox-game/CatchCoinL2.mp4"
        poster="TreasureL2.png"
        preload="auto" muted playsinline webkit-playsinline>
      </video>

      <!-- æ©«å‘/æ¡Œé¢æ™‚è¦†è“‹åœ¨èˆå°å…§ï¼›ç›´å‘æ‰‹æ©Ÿæ™‚æœƒè‡ªå‹•ç§»åˆ°èˆå°ä¸‹æ–¹ -->
      <div class="overlay" id="overlay">
        <h1 class="title">Treasure Journey</h1>
        <p class="sub">Watch the short opening, or skip and start the level.</p>
        <div class="row">
          <button id="btnSound">ğŸ”ˆ Sound on</button>
          <button id="btnStart" class="primary">â–¶ Start Play</button>
          <button id="btnSkip">â­ Skip</button>
        </div>
      </div>
    </div>
  </div>

<script>
const video    = document.getElementById('introVideo');
const btnSound = document.getElementById('btnSound');
const btnStart = document.getElementById('btnStart');
const btnSkip  = document.getElementById('btnSkip');

let soundEnabled=false, audioCtx=null;
function ensureAudio(){ if(!audioCtx){ audioCtx=new (window.AudioContext||window.webkitAudioContext)(); }}

// iPhone é¿å…é»‘å±ï¼šé¦–æ¬¡è§¸ç¢°å°±å•Ÿå‹•å½±ç‰‡ç®¡é“èˆ‡ç¬¬ä¸€å¹€
window.addEventListener('touchstart',()=>{ video.play().then(()=>video.pause()).catch(()=>{}); }, {once:true});

btnSound.onclick = async ()=>{
  ensureAudio(); soundEnabled=!soundEnabled;
  try{ await audioCtx.resume(); }catch(e){}
  video.muted = !soundEnabled;
  btnSound.textContent = soundEnabled ? 'ğŸ”Š Sound on' : 'ğŸ”ˆ Sound off';
};
btnStart.onclick = ()=>{ video.play().catch(()=>{}); };
btnSkip.onclick  = ()=>{ location.href='v2.html'; };
video.addEventListener('ended', ()=>{ location.href='v2.html'; });
</script>
</body>
</html>