<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NeoX Catch — Opening 2</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background-color: #000;
    color: #fff;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang TC", "Noto Sans", Arial, sans-serif;
    overflow: hidden;
  }
  #wrap {
    position: relative;
    height: 100%;
    display: grid;
    place-items: center;
  }

  /* 影片保持原始比例 */
  video {
    width: 100%;
    height: 100%;
    object-fit: contain;   /* 👈 保持比例，不裁切 */
    background: #000;
  }

  /* 按鈕與標題區 */
  .overlay {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    text-align: center;
    background: linear-gradient(transparent 60%, rgba(0,0,0,0.65));
    padding-bottom: 30px;
  }

  h1 {
    margin-bottom: 10px;
    font-size: clamp(20px, 6vw, 30px);
    font-weight: 800;
  }
  p {
    margin: 0 0 20px;
    font-size: 15px;
    color: #d0d4ff;
  }

  .btnrow {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }

  button {
    border: none;
    border-radius: 12px;
    padding: 10px 14px;
    font-weight: 700;
    cursor: pointer;
    color: #fff;
    background: #1b2144;
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    transition: background 0.2s;
  }
  button:hover {
    background: #2b7cff;
  }
  .primary {
    background: #2b7cff;
  }
</style>
</head>
<body>
<div id="wrap">
  <video id="introVideo" src="https://neoxcoin.github.io/neox-game/CatchCoinL2.mp4" preload="auto"></video>

  <div class="overlay">
    <h1>Treasure Journey</h1>
    <p>Watch the short opening, or skip and start the level.</p>
    <div class="btnrow">
      <button id="btnSound">🔈 Sound on</button>
      <button id="btnSkip">⏭ Skip</button>
      <button id="btnStart" class="primary">▶ Start Game</button>
    </div>
  </div>
</div>

<script>
const video = document.getElementById('introVideo');
const btnSound = document.getElementById('btnSound');
const btnSkip = document.getElementById('btnSkip');
const btnStart = document.getElementById('btnStart');

let soundEnabled = false;
let audioCtx = null;

function ensureAudio() {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  }
}

btnSound.onclick = async () => {
  ensureAudio();
  soundEnabled = !soundEnabled;
  if (soundEnabled) {
    try {
      await audioCtx.resume();
      video.muted = false;
      btnSound.textContent = "🔊 Sound on";
    } catch (e) {}
  } else {
    video.muted = true;
    btnSound.textContent = "🔈 Sound off";
  }
};

btnSkip.onclick = () => {
  window.location.href = "v2.html";
};

btnStart.onclick = () => {
  video.play();
};

video.addEventListener('ended', () => {
  window.location.href = "v2.html";
});
</script>
</body>
</html>